# 面试记录

## 墨奇科技

16-17年公安指纹比对，门禁对比、考勤、全国指纹比对，服务公安、移民局，硬件产品-指纹采集仪器，民用的。

非关系型数据库产品-人工智能相关

岗位：基础架构部，指纹系统，分布式系统、容器化部署、技术优化，10-20



### 3面

2022年05月17日19:00

生物识别-指纹检索

非结构化数据的（ck改的-faiss）-图形-视频-语音-文本（向量）---SQL-向量-graph查询

上层--Python-k8s，spark-flink还没有？

分布式Java，，，考虑go

100号，数据和后端

## 集度汽车

2022年05月16日19:00:39

基础架构部+数据职能部

数据服务、数仓、大数据开发

BI 分析、知识库、营销（画像），，，3、调度平台、作业提交系统、XT、flink

数据智能--数据服务（人多） 60人--100人：推荐智能、车辆里程预测、地理搜索、用户推荐       

数据在同一部门，分析推荐在一起

缺点：平台都没建成，jekins部署

地点：立水桥南



## 昆仑数智-中石油 

2022年05月17日14:00  - 2022年05月17日14:52:54

中石油子单位，信息化项目

spring cloud    pg   kafka

地质数据：文件--专业文件2进制，存储->S3，，，Hadoop

文件  spark   flink  10节点 

人员：所在小队   50人

项目型的：

平台研发：中台->文件中心、用户中心、油田、图示中心



## 玩吧

2022年05月17日17:00 - 2022年05月17日18:09

社交领域

互动-游戏：--你画我猜--剧本杀-实时语音等

纯RPC：云直播、动态、好友（mysql）、IM、用户、支付、订单、风控

我的 岗位：下沉---抽象（10多）----好友、IM、用户、支付、订单、风控

技术框架：互联网常见的

大数据：BI团队做-跟他们交互



跟探探陌陌对比有啥优势呢？



## 跨越新科技

tob-大货，，，精细化运营、降本增效

技术投入大，顺丰出来的，研发1400多人

类似德邦

1. 业务还行
2. 北京地图负责人，有点卷，最近加班比较多，比较早期--   50-产品20
3. 传统企业、权限比较严、加密



1. 地理搜索、围栏（核心）、轨迹、算路（比较难、不打算做）
2. 基础数据方向，用户下单的数据、算法、洗数据、爬虫、买数据---负责人带 3-4个
3. 架构师->目前带3-4个人，
4. 工作日8点调休、或者60/小时。。。11点打车。。。制度流程多一些。 



1. 工作节奏，11点打车，加班情况，是经常还是赶项目的时候
2. 3-4个人，会增加吗
3. 业务方向，，数据方向->4wei数据- zhua的数据，，poi，清洗、mysql、底图、数据服务，规划是->数据平台
4. 环境：权限，加密，----->效率



##### HR

承诺部分：43*15+

五险：28800，，公积金：5%

非承诺：绩效奖金--？SAB有--CD没有--0.5-1.5月

试用期：100%

工作节奏：10-7，不忙8点，10-11忙，，12-14中午1.5小时。

### 2面

it 1000多人，深圳，北京

it的手段流程、数据量化、基于Java，spring cloud 微服务、mysql、es、doris、ck，star rocks（join性能好的多），tidb

20多条产品线、

北京地图领域（60多人）-> 客户下单、地址分单、地址位置、车位置、工业园位置。

数据探索、优化，数据量3wei量--->车位置上报、挖掘应用，电子围栏，

（大数据开发的同学，AP、实时数据spark、flink、kudu）、客户画像



### keep

交易测

业务 keep app。天猫、京东

30多人-几万单

对账--

结算--->mysql-binlog-数据组-es，，es对账产出---分库分表感觉差点意思-->

几十万单-->

望京 

## 自我介绍

面试官您好，我叫李森淼，2014年毕业至今已有近8年的工作经验
第一家公司是北京名动时代，做Java开发的工作，因为工作突出，工作高效负责被评为优秀员工。

第二家公司是北京卓越讯通，从Java开发逐渐成长，后面承担较多的架构工作。包括互联网舆情洞察系统的架构、爬虫系统架构、ES集群的搭建和维护、微服务框架的搭建、MySQL主从搭建、Redis、MongoDB等数据库搭建、Jekins + docker+rancher集群实现自动化部署等。

第三家公司是58同城，在里面也是从高级开发晋升成长为资深开发的，因为是数据部门，工作中也使用到一些大数据工具和Hadoop生态，像Hive、HBASE、Spark、Flink、Kylin等。主要负责的工作是58的用户画像系统架构及实现，主要是画像系统的前后端和挖掘类的用户标签开发，当然这里牵扯到较多的机器学习算法，解决了当时一些比较棘手的问题，很荣幸当时也是获得了**58文化之星**的荣誉。目前支持6亿用户秒级圈选。

同时也负责数据调度系统的架构和开发，主要功能是界面化配置的方式实现不同数据源之间的数据流转，包括MySQL、ES、Hbase、MongoDB、File、ClickHouse等，目前每日上千数据任务定时调度，数据量达百亿。

还有当时做了一个情报平台，底层数据都是从互联网爬取的，是在之前的爬虫系统上做了架构升级，设计出了一个通用的互联网信息采集系统，用户可以通过界面化配置的方式配置采集任务和定时调度，采集的数据支持持久化到用户指定的目标库。

目前是在美团网约车运力部门，部门主要业务是合作商入驻、司机招募、运力信息维护、经营分析、司机诊断、司机考核、司机组织化、司机管控、防疫任务等等

我主要负责的是经营分析、司机诊断考核，引入大数据计算工具（出方案找数据组负责人对方案评审）对司机指标进行计算并中间存储、并搭建了统一的数据查询服务，解决经营诊断数据计算速度极慢的问题，通过指标元数据的定义解决数据口径不一致问题，同时消除了大部分慢查询和Long Service

另外就是发现历史项目代码规范问题，在组内制定代码规范，小组试行DDD，新项目都接入了DDD，包括通用合同系统、通用数据查询服务、组织中心服务、司服工作台等

司机中心解决司机新增字段改代码问题，首先定义在数据库定义司机元数据，查询字段和数据库字段映射，更新数据通过MQ接收更新消息，指定要更新的字段和值，查询数据通过通用数据查询接口。



## 小红书

艾斯推荐工程、

静态特征、动态特征、基础信息

推荐系统、离线机器学习、30-50  



## 画像系统有哪些标签

用户画像分几类，一个是基础属性年龄、性别、设备型号、安装渠道、常驻地等等。用户行动就是观看时段、观看时长、消费等级、活跃度。用户兴趣是感兴趣的类别和感兴趣的标签



计算方式：

1. 基础属性：ID、年龄、性别、设备型号、安装渠道、常驻地、定位
2. 统计类标签：（用户行为）观看时段、观看时长、消费等级、活跃度，PV、点赞、收藏、发帖、评论等
3. 挖掘类标签：   兴趣 常去小区、身份、流失概率

![图片](https://mmbiz.qpic.cn/mmbiz_png/yNKv1P4Q9eX1VVtnLia7HF074eTuXLPj6ibHsEF5yykBxSvcPSlF9N8LnxGiahhghswdKuZbtxkQhKnr4gxYKCnXA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

## 个人发展方向

1. 系统架构师
2. AI大数据相关




# 社交网络SNA

### Degree Centrality **度中心性**	

度可以区分为入度和出度两个概念，入度就是指向该节点的个数，出度就是从该节点出发的个数。（好友、关注数多）

### Closeness Centrality **接近中心性**

图中其它节点的最短距离都很小，那么我们认为该节点的Closeness Centrality高。到其它节点的平均最短距离最小，意味着这个节点从几何角度看是处在图的中心位置。（网络中心位置）

### Betweenness Centrality **中介中心性**

对于网络中的两个节点A和B，他们之间的最短路径可能有很多条。 计算网络中任意两个节点的所有最短路径，如果这些最短路径中有很多条都经过了某个节点，那么就认为这个节点的Betweenness Centrality高。（达人，中介的作用）

## **社区发现算法**

社区相当抱团，类似群的概念，同一个社区内的连接紧密，而社区间的连接非常稀疏。社区发现可以理解为在图中发现n个社区，他们连接非常紧密。



## **Louvain 算法**

Louvain算法是基于模块度的算法，其优化目标就是最大化整个社区网络结构的模块度。

**模块度**
它的物理含义是社区内节点的连边数与随机情况下节点的连边数之差，它可以衡量一个社区紧密程度的度量。因此模块度就可以作为优化函数优化社区的分类。



# 如何用牛顿冷却定律计算热度？ 

牛顿冷却定律是指“温度”与“时间”之间的指数衰减函数，在AI算法中，可以根据牛顿冷却定律公式做关于“热度”衰减算法应用。比如热文排名的冷却算法。

**本期温度 = 上一期温度 x exp(-(冷却系数) x 间隔的小时数)**

**当前热度分**=**上一期得分 x exp（-（冷却系数） x 间隔的小时数）**

![img](http://www.ruanyifeng.com/blogimg/asset/201203/bg2012031503.jpg)



# app用户流失概率预测

深度神经网络DNN

性别、年龄、渠道、pv、各种渠道的pv、cash、

标注：昨天数据往前推15日。用户的访问用户在过去15日内是否来过，来过1，没有来过0

数据预处理：性别onehot编码、pv的归一化

训练：TensorFlow2

预测：数据为昨日数据，在过去15天的行为



# 用户行为关系挖掘FPGrowth

Apriori算法的改良版

挖掘用户行为关系，类似挖掘啤酒和尿布的隐藏关系

即为频繁项集的挖掘，在最小支持度，挖掘行为潜在关系

支持度是一种重要性度量，因为低支持度的规则可能只是偶然出现。从实际情况看，低支持度的规则多半是没有意义的。例如，顾客很少同时购买a、b商品，想通过对a或b商品促销（降价）来提高另一种商品的销售量是不可能的。

![img](https://img-blog.csdn.net/20180328131545385?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215X2xlYXJuaW5nX3JvYWQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)



FP-growth算法需要对原始训练集扫描两遍以构建FP树。

第一次扫描

过滤掉所有不满足最小支持度的项；对于满足最小支持度的项，按照全局最小支持度排序，在此基础上，为了处理方便，也可以按照项的关键字再次排序。

第二次扫描，构造FP树。

# 用户常去小区挖掘

TFIDF+牛顿冷却（冷却时间按90天）

根据上报的用户位置，匹配小区库

通过TFIDF计算出该用户在该小区下的score保存wtable，并记录访问时间

再次上报去过该小区时，取出score，根据牛顿冷却公式，冷却该小区的score+新的TFIDF值



# applist实时挖掘

提升8个点击率



爬虫采集上千APP分类信息，并手动修正类别

上报的用户访问进程package名，匹配package+AppName字典，再匹配app名+分类信息，可得到用户访问过哪些类别下的app

访问一次score记一分，根据访问时间+和牛顿冷却公式为score进行冷却（冷却时间按30天）。按用户访问的APP类别聚合总分。

再次计算到该APP时，再次进行冷却。



# 用户心声正负面分析

98%准确率



贝叶斯：

**（1）分词**：把一条记录进行分词
**（2）划分训练集和测试集**
**（3）统计词频：**统计所有**训练集**的每个词出现的次数，即词频
**（4）停用词表：**载入停用词表stopwords_set
**（5）文本特征提取：**选取n=1000个特征词（词频高到低依次选）词袋模型。

贝叶斯公式

![img](https://img2018.cnblogs.com/blog/1521884/201812/1521884-20181201162300585-93830473.png)

fasttext：

fastText模型架构和word2vec中的CBOW很相似， 不同之处是fastText预测标签而CBOW预测的是中间词

层次softmax

N-gram特征

bert：

谷歌预训练语言模型，双向Transformer。随机掩盖15%，进行预测

# 部落小区发贴分类

发帖任务：与小区相关，则给予奖励。避免水贴，

问题：无人标注样本

样本标注：首先根据定义关键词过滤帖子，过滤出部分正样本。再人工抽查刷选。

# 发帖相似度分析，相似贴去重

发现重复贴，避免重复加精损失。帮助完善相似贴审核规则。

方案1：TFIDF，无语义

方案2：simhash ，无语义，计算慢，短文本准确率低。

方案3：bert向量提取+余弦相似。无监督，速度慢，准确率不高

方案4: bert+sentence-bert 预料监督训练，向量提取+保存ES（7.x）+余弦相似。提取速度快，但对比慢

最终方案：bert+sentence-bert 预料监督训练，向量提取+向量引擎。预聚合，查询速度快，提升5倍速度+准确率10%

89%准确率

# 部落主题匹配

## 判别部落主题下发帖是否与主题相关

问题：无样本

思路：拿主题分词去停用词、无意义词，比如主题为：“今年你回家过年吗？”，处理后剩下“回家”、“过年”等中心词

如果样本中包含中心词，则代表相关。但如果一个帖子是“我要回去过春节”，则无法匹配

解决：无监督方式拿部落帖子训练word2vec模型。目的匹配近义词，匹配出“过年”的近义词是“春节”





# Bitmap改造

# 调度系统架构

# 爬虫系统架构